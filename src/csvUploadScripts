p({"class":"foam.nanos.script.CsvUploadScript","csv":{"class":"foam.nanos.fs.File","id":"03722ae8-4ba8-dfcf-f751-b9b21fbec501","filename":"Users.csv","filesize":97,"mimeType":"text/csv","data":{"class":"foam.blob.IdentifiedBlob","id":"0a7b50d4d8f3fd8f9033fd2c3760861c314bf935e99ecc4714a448b8f2852719"}},"id":"CSVUploadTest","lastRun":"2019-08-14T15:50:30.255Z","lastDuration":24,"status":1,"code":"import foam.lib.parse.*;\n\n// ps = new foam.lib.parse.StringPStream(new StringBuilder()\n//   .append(\"firstName,lastName,phone.number,phone.verified\\n\")\n//   .append(\"Mike,C,123-123-1234,true\\n\")\n//   .append(\"Adam,V,987-987-9876,false\")\n//   .toString());\nps = new foam.lib.parse.BlobPStream.Builder(x)\n  .setBlob(currentScript.getCsv().getData())\n  .build();\n\npx = new foam.lib.parse.ParserContextImpl();\npx.set(\"X\", x);\n\ncsvParser = new CSVParser(foam.nanos.auth.User.getOwnClassInfo(),\n  new foam.dao.AbstractSink() {\n    public void put(Object o, foam.core.Detachable sub) {\n      print(o.toString());\n    }\n  }\n);\n\ncsvParser.parse(ps, px);","output":"id: 0, enabled: true, loginEnabled: true, lastLogin: null, firstName: Mike, middleName: , lastName: C, legalName: Mike C, organization: , department: , email: , emailVerified: false, phone: number: 123-123-1234, verified: true, phoneNumber: , mobile: null, type: , birthday: null, profilePicture: null, address: null, language: en, timeZone: , desiredPassword: , password: , previousPassword: , passwordLastModified: null, passwordExpiry: null, note: , businessName: , bankIdentificationCode: , businessHoursEnabled: false, disabledTopics: [Ljava.lang.String;@7b8e2651, disabledTopicsEmail: [Ljava.lang.String;@69cc1dd0, website: , created: null, lastModified: null, deviceToken: , personalTheme: 0, twoFactorEnabled: false, twoFactorSecret: , lastModifiedBy: 0, createdBy: 0, spid: , group: \nid: 0, enabled: true, loginEnabled: true, lastLogin: null, firstName: Adam, middleName: , lastName: V, legalName: Adam V, organization: , department: , email: , emailVerified: false, phone: number: 987-987-9876, verified: false, phoneNumber: , mobile: null, type: , birthday: null, profilePicture: null, address: null, language: en, timeZone: , desiredPassword: , password: , previousPassword: , passwordLastModified: null, passwordExpiry: null, note: , businessName: , bankIdentificationCode: , businessHoursEnabled: false, disabledTopics: [Ljava.lang.String;@1ba1d91e, disabledTopicsEmail: [Ljava.lang.String;@128a7527, website: , created: null, lastModified: null, deviceToken: , personalTheme: 0, twoFactorEnabled: false, twoFactorSecret: , lastModifiedBy: 0, createdBy: 0, spid: , group: \n"})
